```yaml
title: 'Icon Bundle Examples: Components'
navigation: ./index.md
standalone: true
types:
  IconifyJSON: '../../../types/iconify-json.md'
```

# Bundling everything for Iconify components

This article is a part of [Iconify icon bundles code examples](./index.md).

This is the most advanced example, that shows how to create icon bundles from various sources. It is easy to configure.

It bundles:

- Icons from Iconify icon sets.
- Icons from custom icon sets.
- Custom JSON files.
- Custom SVG files.

You need to configure script before running it.

## Instructions

Installation:

```bash
npm install --save-dev @iconify/tools @iconify/json
```

Usage:

- Change value of `[var]component` to correct component. See below.
- If you want script to output CommonJS code (that uses `[func]require()`), set `[var]commonJS` to `true`.
- Change value of `[var]target` to correct location of bundle.
- Change sources configuration in variable `[var]sources`.

### Components

```yaml
include: icon-components/bundles/example-components
```

## Sources

This bundle script can import icons from multiple sources.

Comment out sources that you do not need.

Available sources:

### svg

This option bundles custom SVG files. It converts SVG files to `[type]IconifyJSON` format, then bundles it.

This method is used on Iconify documentation website to render custom icons and logo.

Value is array of objects. Each object has the following properties:

- `[prop]dir`: directory where SVG files are stored. Sub-directories are not parsed.
- `[prop]monotone`: `[bool]true` if icons are monotone, `[bool]false` if not. This affects how icons are cleaned up. If you have different icons, it is better to split them into 2 directories and make separate entries for monotone and colored icons.
- `[prop]prefix`: Icon set prefix. It does not have to be unique, you can re-use same prefix for multiple sources, just make sure icon names are different.

Icons will imported from custom SVG directories can be used by name `[str]prefix:name`, where `[str]prefix` is prefix you have configured, `[str]name` is icon name.

For example:

```js
const sources = {
    svg: [
        dir: 'svg',
        monotone: true,
        prefix: 'custom'
    ]
}
```

If you have icon `[file]svg/home.svg`, after importing it, that icon in component will have the name `[icon]custom:home`:

```jsx
<Icon icon="custom:home" />
```

### icons

This option bundles icons from Iconify icon sets. It is similar to [basic importer example](./component-simple.md).

Value is an array of icon names, including icon set prefix.

### json

This option will bundle Iconify JSON files.

Value is an array of filenames.

If you want to include only few icons from JSON file, instead of filename you can provide an object with 2 properties: `[prop]filename` that points to JSON file and `[prop]icons` that lists icons you want to filter.

To bundle Iconify icon set, use `[func]require.resolve()` to get its location.

Example that uses all variations:

```js
const sources = {
	// ...

	json: [
		// Custom JSON file
		'json/gg.json',
		// Iconify JSON file (@iconify/json is a package name, /json/ is directory where files are, then filename)
		require.resolve('@iconify/json/json/tabler.json'),
		// Custom file with only few icons
		{
			filename: require.resolve('@iconify/json/json/line-md.json'),
			icons: [
				'home-twotone-alt',
				'github',
				'document-list',
				'document-code',
				'image-twotone',
			],
		},
	],

	// ...
};
```

## Code

Code below is written with TypeScript. If you want simple JavaScript file, remove types and `[js]import type` line.

Code is asynchronous. It is wrapped in anonymous asynchronous function because top level `[js]await`, at moment of writing documentation, is not available in all currently used versions of Node.

```yaml
title: 'create-bundle.ts'
src: icon-components/bundles/bundle-component-full.ts
```

Part of code is taken from [Iconify Tools import examples](../../../tools/tools2/examples/import-mdi.md).

## Importing bundle

Bundle generated by script above must be imported in your application:

```js
import './icons-bundle.js';
```

If you are using `[func]require()` and have set `[var]commonJS` to `true`, use this code:

```js
require('./icons-bundle.js');
```
